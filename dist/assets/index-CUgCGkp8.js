import{r as k,l as ye,m as Q,c as T,b as e,d as Te,e as Se,v as je,w as we,t as g,F as E,g as Z,_ as ke,h as qe,a as ee,i as Ce,j as S,k as Oe}from"./index-C7n9bY8Y.js";import{_ as Re}from"./search-icon-B4ipM9vc.js";import{_ as Fe,a as te,l as Ie,T as Ne}from"./lg-thumbnail.es5-CDhgO952.js";var N=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var $,re;function ve(){if(re)return $;re=1;function r(n){var a=typeof n;return n!=null&&(a=="object"||a=="function")}return $=r,$}var G,ne;function Ee(){if(ne)return G;ne=1;var r=typeof N=="object"&&N&&N.Object===Object&&N;return G=r,G}var L,oe;function ge(){if(oe)return L;oe=1;var r=Ee(),n=typeof self=="object"&&self&&self.Object===Object&&self,a=r||n||Function("return this")();return L=a,L}var M,ae;function $e(){if(ae)return M;ae=1;var r=ge(),n=function(){return r.Date.now()};return M=n,M}var A,se;function Ge(){if(se)return A;se=1;var r=/\s/;function n(a){for(var s=a.length;s--&&r.test(a.charAt(s)););return s}return A=n,A}var P,ie;function Le(){if(ie)return P;ie=1;var r=Ge(),n=/^\s+/;function a(s){return s&&s.slice(0,r(s)+1).replace(n,"")}return P=a,P}var B,le;function xe(){if(le)return B;le=1;var r=ge(),n=r.Symbol;return B=n,B}var W,ue;function Me(){if(ue)return W;ue=1;var r=xe(),n=Object.prototype,a=n.hasOwnProperty,s=n.toString,f=r?r.toStringTag:void 0;function b(m){var d=a.call(m,f),l=m[f];try{m[f]=void 0;var o=!0}catch{}var p=s.call(m);return o&&(d?m[f]=l:delete m[f]),p}return W=b,W}var z,de;function Ae(){if(de)return z;de=1;var r=Object.prototype,n=r.toString;function a(s){return n.call(s)}return z=a,z}var H,ce;function Pe(){if(ce)return H;ce=1;var r=xe(),n=Me(),a=Ae(),s="[object Null]",f="[object Undefined]",b=r?r.toStringTag:void 0;function m(d){return d==null?d===void 0?f:s:b&&b in Object(d)?n(d):a(d)}return H=m,H}var K,fe;function Be(){if(fe)return K;fe=1;function r(n){return n!=null&&typeof n=="object"}return K=r,K}var U,be;function We(){if(be)return U;be=1;var r=Pe(),n=Be(),a="[object Symbol]";function s(f){return typeof f=="symbol"||n(f)&&r(f)==a}return U=s,U}var V,me;function ze(){if(me)return V;me=1;var r=Le(),n=ve(),a=We(),s=NaN,f=/^[-+]0x[0-9a-f]+$/i,b=/^0b[01]+$/i,m=/^0o[0-7]+$/i,d=parseInt;function l(o){if(typeof o=="number")return o;if(a(o))return s;if(n(o)){var p=typeof o.valueOf=="function"?o.valueOf():o;o=n(p)?p+"":p}if(typeof o!="string")return o===0?o:+o;o=r(o);var h=b.test(o);return h||m.test(o)?d(o.slice(2),h?2:8):f.test(o)?s:+o}return V=l,V}var X,pe;function He(){if(pe)return X;pe=1;var r=ve(),n=$e(),a=ze(),s="Expected a function",f=Math.max,b=Math.min;function m(d,l,o){var p,h,c,y,x,_,q=0,R=!1,C=!1,F=!0;if(typeof d!="function")throw new TypeError(s);l=a(l)||0,r(o)&&(R=!!o.leading,C="maxWait"in o,c=C?f(a(o.maxWait)||0,l):c,F="trailing"in o?!!o.trailing:F);function i(u){var w=p,I=h;return p=h=void 0,q=u,y=d.apply(I,w),y}function t(u){return q=u,x=setTimeout(O,l),R?i(u):y}function v(u){var w=u-_,I=u-q,J=l-w;return C?b(J,c-I):J}function j(u){var w=u-_,I=u-q;return _===void 0||w>=l||w<0||C&&I>=c}function O(){var u=n();if(j(u))return Y(u);x=setTimeout(O,v(u))}function Y(u){return x=void 0,F&&p?i(u):(p=h=void 0,y)}function he(){x!==void 0&&clearTimeout(x),q=0,p=_=h=x=void 0}function _e(){return x===void 0?y:Y(n())}function D(){var u=n(),w=j(u);if(p=arguments,h=this,_=u,w){if(x===void 0)return t(_);if(C)return clearTimeout(x),x=setTimeout(O,l),i(_)}return x===void 0&&(x=setTimeout(O,l)),y}return D.cancel=he,D.flush=_e,D}return X=m,X}var Ke=He();const Ue=De(Ke),Ve={class:"mt-[60px] bg-[var(--bgColor4)] rounded-[16px] border border-[rgba(255,255,255,0.1)]"},Xe={class:"p-[16px] border-b border-white/10 text-center"},Ye={class:"text-[var(--subTextColor)] mt-2"},Je={class:"p-4 lg:py-[50px] lg:px-[30px]"},Qe={key:0,class:"fui-loading-ring loading"},Ze={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-[20px]"},et=["onClick"],tt={class:"font-semibold text-single"},rt={class:"text-[var(--subTextColor)]"},nt={key:2,class:"not-found"},ot={key:0,class:"fixed top-0 right-0 left-0 bottom-0 h-[100vh] flex justify-center items-center isolate z-50 animate-fadeIn"},at={class:"h-[100vh] rounded-0 md:h-[800px] w-[623px] bg-[var(--bgColor2)] md:rounded-[16px] backdrop-blur-[70px] animate-fadeDown"},st={class:"h-[calc(100vh-54px)] py-[8px] px-[16px] md:h-[calc(800px-54px)] overflow-auto modal__body"},it={class:"pb-2 border-b border-[#FFFFFF1A] last:border-b-0"},lt={class:"flex items-center gap-[8px] mb-[16px]"},ut={class:"modal__info"},dt={class:"font-semibold"},ct={class:"text-[var(--subTextColor)]"},ft={class:"flex justify-between items-center mb-[10px] gap-[20px]"},bt={class:"modal__detail-text text-single"},mt={class:"flex justify-between items-center mb-[10px] gap-[20px]"},pt={class:"modal__detail-text text-single"},vt={class:"flex justify-between items-center mb-[10px] gap-[20px]"},gt={class:"modal__detail-text text-single"},xt={class:"mt-2 pb-2 border-b border-[#FFFFFF1A] last:border-b-0"},ht={class:"flex items-center gap-[8px] mb-[16px]"},_t={class:"modal__info"},yt={class:"font-semibold"},Tt={class:"flex justify-between items-center mb-[10px] gap-[20px]"},St={class:"modal__detail-text text-single"},jt={class:"flex justify-between items-center mb-[10px] gap-[20px]"},wt={class:"modal__detail-text text-single"},kt={class:"modal__textarea"},qt={class:"font-medium mt-1"},Ct={class:"mt-[10px]"},Ot=["href"],Rt=["src","alt"],Dt={__name:"index",setup(r){const n="http://127.0.0.1:8000/api/client/data-report-all",a="http://127.0.0.1:8000/api/client/search-data",s=ye(),f=Ce(),b=k(s.query.search||""),m=k(!!b.value),d=k(),l=k([]),o=k(0),p=k(!1),h=k(null),c=k({images:[]});function y(i){const t=new Date(i),v=String(t.getDate()).padStart(2,"0"),j=String(t.getMonth()+1).padStart(2,"0"),O=t.getFullYear();return`${v}/${j}/${O}`}function x(i){c.value={...i,images:i.imagesProof||[]},p.value=!0,Oe(()=>{h.value&&Ie(h.value,{plugins:[Ne],thumbnail:!0,download:!1})})}function _(){p.value=!1}async function q(){try{d.value=!0;const i=await ee.get(n);l.value=i.data.data,o.value=l.value.length}catch(i){console.error(i)}finally{d.value=!1}}async function R(i){try{d.value=!0;const t=i.trim();if(m.value=!!t,!t){await q(),m.value=!1;return}m.value=!0;const v=await ee.get(`${a}?search=${encodeURIComponent(t)}`);l.value=v.data.data,o.value=l.value.length}catch(t){console.error(t)}finally{d.value=!1}}const C=Ue(i=>{R(i)},400);Q(b,i=>{C(i)}),Q(()=>s.query.search,i=>{b.value=i||"",R(b.value)},{immediate:!0});async function F(){const i=b.value.trim()?{search:b.value.trim()}:{};await f.push({path:"/scammer",query:i})}return(i,t)=>(S(),T(E,null,[e("form",{onSubmit:we(F,["prevent"]),class:"max-w-[500px] w-full rounded-[16px] bg-[var(--bgColor3)] border border-[rgba(255,255,255,0.1)] mt-15 flex items-center p-[5px] mx-auto"},[Se(e("input",{type:"text",placeholder:"Kiểm tra số tài khoản ngân hàng...","onUpdate:modelValue":t[0]||(t[0]=v=>b.value=v),class:"flex-1 bg-transparent border-none outline-none pl-[19px] text-[var(--textColor)]"},null,512),[[je,b.value]]),t[1]||(t[1]=e("button",{class:"btn"},[e("img",{src:Re,alt:"",class:"block lg:hidden"}),e("span",{class:"hidden lg:block"},"Tìm Kiếm")],-1))],32),e("section",Ve,[e("div",Xe,[t[2]||(t[2]=e("h2",{class:"title"},"Danh Sách Scam",-1)),e("p",Ye,"CÓ "+g(o.value)+" CẢNH BÁO",1)]),e("div",Je,[d.value?(S(),T("div",Qe,t[3]||(t[3]=[e("div",null,null,-1),e("div",null,null,-1),e("div",null,null,-1),e("div",null,null,-1)]))):l.value.length?(S(),T("ul",Ze,[(S(!0),T(E,null,Z(l.value,v=>(S(),T("li",{key:v.id,onClick:j=>x(v),class:"bg-[var(--bgColor3)] rounded-[16px] p-4 flex items-center gap-2 cursor-pointer select-none relative isolate overflow-hidden children:pointer-events-none hover:before:left-auto hover:before:right-0 hover:before:w-full before:content-[''] before:absolute before:top-0 before:left-0 before:right-auto before:h-full before:w-0 before:bg-white before:opacity-10 before:-z-10 before:transition-all before:duration-[400ms] before:ease-[cubic-bezier(0.165,0.84,0.44,1)]"},[t[4]||(t[4]=e("img",{src:te,alt:"avatar",class:""},null,-1)),e("div",null,[e("h3",tt,g(v.nameScammer),1),e("div",rt,"#"+g(v.id)+" - "+g(y(v.created_at)),1)])],8,et))),128))])):(S(),T("div",nt,[t[5]||(t[5]=e("img",{src:Fe},null,-1)),e("span",null,g(m.value&&!l.value.length?"Không có dữ liệu bạn cần tìm":"Không có dữ liệu"),1)]))])]),p.value?(S(),T("section",ot,[e("div",{onClick:_,class:"absolute top-0 right-0 left-0 bottom-0 bg-black/60 cursor-pointer z-[-1]"}),e("div",at,[e("div",{class:"flex justify-between items-center h-[54px] py-[12px] px-[16px] border-b border-[#FFFFFF1A]"},[t[7]||(t[7]=e("div",{class:"text-[20px] font-semibold"},"Chi tiết tố cáo",-1)),e("div",{onClick:_,class:"w-[30px] h-[30px] rounded-full bg-[var(--bgColor3)] flex justify-center items-center cursor-pointer transition-all duration-200 ease-linear hover:opacity-50"},t[6]||(t[6]=[e("img",{src:ke,alt:"close icon",class:"pointer-events-none"},null,-1)]))]),e("div",st,[e("div",it,[e("div",lt,[t[8]||(t[8]=e("div",{class:"modal__profile-image"},[e("img",{src:te,alt:"avatar"})],-1)),e("div",ut,[e("h4",dt,g(c.value.nameScammer),1),e("p",ct,"#"+g(c.value.id)+" - Tố vào ngày "+g(y(c.value.created_at)),1)])]),e("div",ft,[t[9]||(t[9]=e("span",{class:"text-[--subTextColor] flex-shrink-0"},"Số điện thoại",-1)),e("span",bt,g(c.value.phoneScammer),1)]),e("div",mt,[t[10]||(t[10]=e("span",{class:"text-[--subTextColor] flex-shrink-0"},"Số tài khoản",-1)),e("span",pt,g(c.value.bankNumber),1)]),e("div",vt,[t[11]||(t[11]=e("span",{class:"text-[--subTextColor] flex-shrink-0"},"Ngân Hàng",-1)),e("span",gt,g(c.value.bankName),1)])]),e("div",xt,[e("div",ht,[t[13]||(t[13]=e("div",{class:"modal__profile-image"},[e("img",{src:qe,alt:"avatar"})],-1)),e("div",_t,[e("h4",yt,g(c.value.nameSender),1),t[12]||(t[12]=e("p",{class:"text-[var(--subTextColor)]"},"Người tố cáo",-1))])]),e("div",Tt,[t[14]||(t[14]=e("span",{class:"text-[var(--subTextColor)] flex-shrink-0"},"Trạng Thái",-1)),e("span",St,g(c.value.option),1)]),e("div",jt,[t[15]||(t[15]=e("span",{class:"text-[var(--subTextColor)] flex-shrink-0"},"Liên hệ",-1)),e("span",wt,g(c.value.phoneSender),1)]),e("div",kt,[t[16]||(t[16]=e("span",{class:"text-[var(--subTextColor)] flex-shrink-0"},"Nội dung tố cáo",-1)),e("p",qt,g(c.value.contentReport),1)]),e("div",Ct,[t[17]||(t[17]=e("span",{class:"text-[var(--subTextColor)] flex-shrink-0"},"Hình ảnh liên quan",-1)),e("div",{ref_key:"galleryRef",ref:h,class:"grid grid-cols-2 lg:grid-cols-3 gap-2 mt-2"},[(S(!0),T(E,null,Z(c.value.imagesProof,(v,j)=>(S(),T("a",{key:j,href:v},[e("img",{src:v,alt:`Ảnh bằng chứng ${c.value.nameScammer} ${j+1}`,class:"h-[237px] w-full object-cover rounded-[8px] cursor-pointer transition duration-200 hover:opacity-50"},null,8,Rt)],8,Ot))),128))],512)])])])])])):Te("",!0)],64))}};export{Dt as default};
